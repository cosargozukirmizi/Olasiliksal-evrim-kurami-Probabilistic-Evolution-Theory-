package("Squtelmat"):

str:=Squtelmat::SasString(1):
print(str):

F:=matrix([[1,2,3,4],[5,6,7,8]]):
a:=matrix([[1],[2]]):
n:=nops(a)-1:


squarificate := proc(sq_F, sq_a)
begin
 sq_res:=0:
 sq_i:=1:
// print(sq_F):
 for sq_i from 1 to n+1 do
  sq_res:=sq_res+sq_a[sq_i,1]
  *linalg::submatrix(sq_F,1..n+1,((n+1)*(sq_i-1)+1)..((n+1)*(sq_i-1)+1+n)):
 end_for:
 return(sq_res):
end_proc:



abc:=(eval(Squtelmat::SasValue(1,a,F))):

print(F*linalg::kroneckerProduct(a,a)):
print(abc*a):


